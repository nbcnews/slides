/**
* @preserve Copyright 2012 Twitter, Inc.
* @license http://www.apache.org/licenses/LICENSE-2.0.txt
*/
var Hogan={};(function(a,b){function c(a,b,c){var d,e;return b&&typeof b=="object"&&(b[a]!=null?d=b[a]:c&&b.get&&typeof b.get=="function"&&(d=b.get(a))),d}function d(a,b,c,d){function e(){}function f(){}e.prototype=a,f.prototype=a.subs;var g,h=new e;h.subs=new f,h.subsText={},h.ib();for(g in b)h.subs[g]=b[g],h.subsText[g]=d;for(g in c)h.partials[g]=c[g];return h}function k(a){return String(a===null||a===undefined?"":a)}function l(a){return a=k(a),j.test(a)?a.replace(e,"&amp;").replace(f,"&lt;").replace(g,"&gt;").replace(h,"&#39;").replace(i,"&quot;"):a}a.Template=function(a,b,c,d){a=a||{},this.r=a.code||this.r,this.c=c,this.options=d||{},this.text=b||"",this.partials=a.partials||{},this.subs=a.subs||{},this.ib()},a.Template.prototype={r:function(a,b,c){return""},v:l,t:k,render:function(b,c,d){return this.ri([b],c||{},d)},ri:function(a,b,c){return this.r(a,b,c)},ep:function(a,b){var c=this.partials[a],e=b[c.name];if(c.instance&&c.base==e)return c.instance;if(typeof e=="string"){if(!this.c)throw new Error("No compiler available.");e=this.c.compile(e,this.options)}return e?(this.partials[a].base=e,c.subs&&(this.activeSub===undefined&&(b.stackText=this.text),e=d(e,c.subs,c.partials,b.stackText||this.text)),this.partials[a].instance=e,e):null},rp:function(a,b,c,d){var e=this.ep(a,c);return e?e.ri(b,c,d):""},rs:function(a,b,c){var d=a[a.length-1];if(!m(d)){c(a,b,this);return}for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var h;return m(a)&&a.length===0?!1:(typeof a=="function"&&(a=this.ms(a,b,c,d,e,f,g)),h=!!a,!d&&h&&b&&b.push(typeof a=="object"?a:b[b.length-1]),h)},d:function(a,b,d,e){var f,g=a.split("."),h=this.f(g[0],b,d,e),i=this.options.modelGet,j=null;if(a==="."&&m(b[b.length-2]))h=b[b.length-1];else for(var k=1;k<g.length;k++)f=c(g[k],h,i),f!=null?(j=h,h=f):h="";return e&&!h?!1:(!e&&typeof h=="function"&&(b.push(j),h=this.mv(h,b,d),b.pop()),h)},f:function(a,b,d,e){var f=!1,g=null,h=!1,i=this.options.modelGet;for(var j=b.length-1;j>=0;j--){g=b[j],f=c(a,g,i);if(f!=null){h=!0;break}}return h?(!e&&typeof f=="function"&&(f=this.mv(f,b,d)),f):e?!1:""},ls:function(a,b,c,d,e){var f=this.options.delimiters;return this.options.delimiters=e,this.b(this.ct(k(a.call(b,d)),b,c)),this.options.delimiters=f,!1},ct:function(a,b,c){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(a,this.options).render(b,c)},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ib:function(){this.buf=b?[]:""},ms:function(a,b,c,d,e,f,g){var h,i=b[b.length-1],j=a.call(i);return typeof j=="function"?d?!0:(h=this.activeSub&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(j,i,c,h.substring(e,f),g)):j},mv:function(a,b,c){var d=b[b.length-1],e=a.call(d);return typeof e=="function"?this.ct(k(e.call(d)),d,c):e},sub:function(a,b,c,d){var e=this.subs[a];e&&(this.activeSub=a,e(b,c,this,d),this.activeSub=!1)}};var e=/&/g,f=/</g,g=/>/g,h=/\'/g,i=/\"/g,j=/[&<>\"\']/,m=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan),function(a){function g(a){a.n.substr(a.n.length-1)==="}"&&(a.n=a.n.substring(0,a.n.length-1))}function h(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function i(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;d<e;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function k(b,c,d,e){var f=[],g=null,h=null,i=null;h=d[d.length-1];while(b.length>0){i=b.shift();if(!(!h||h.tag!="<"||i.tag in j))throw new Error("Illegal content in < super tag.");if(a.tags[i.tag]<=a.tags.$||l(i,e))d.push(i),i.nodes=k(b,i.tag,d,e);else{if(i.tag=="/"){if(d.length===0)throw new Error("Closing tag without opener: /"+i.n);g=d.pop();if(i.n!=g.n&&!m(i.n,g.n,e))throw new Error("Nesting error: "+g.n+" vs. "+i.n);return g.end=i.i,f}i.tag=="\n"&&(i.last=b.length==0||b[0].tag=="\n")}f.push(i)}if(d.length>0)throw new Error("missing closing tag: "+d.pop().n);return f}function l(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c].o==a.n)return a.tag="#",!0}function m(a,b,c){for(var d=0,e=c.length;d<e;d++)if(c[d].c==a&&c[d].o==b)return!0}function n(a){var b=[];for(var c in a)b.push('"'+q(c)+'": function(c,p,t,i) {'+a[c]+"}");return"{ "+b.join(",")+" }"}function o(a){var b=[];for(var c in a.partials)b.push('"'+q(c)+'":{name:"'+q(a.partials[c].name)+'", '+o(a.partials[c])+"}");return"partials: {"+b.join(",")+"}, subs: "+n(a.subs)}function q(a){return a.replace(f,"\\\\").replace(c,'\\"').replace(d,"\\n").replace(e,"\\r")}function r(a){return~a.indexOf(".")?"d":"f"}function s(a,b){var c="<"+(b.prefix||""),d=c+a.n+p++;return b.partials[d]={name:a.n,partials:{}},b.code+='t.b(t.rp("'+q(d)+'",c,p,"'+(a.indent||"")+'"));',d}function t(a,b){b.code+="t.b(t.t(t."+r(a.n)+'("'+q(a.n)+'",c,p,0)));'}function u(a){return"t.b("+a+");"}var b=/\S/,c=/\"/g,d=/\n/g,e=/\r/g,f=/\\/g;a.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},a.scan=function(d,e){function w(){p.length>0&&(q.push({tag:"_t",text:new String(p)}),p="")}function x(){var c=!0;for(var d=t;d<q.length;d++){c=a.tags[q[d].tag]<a.tags._v||q[d].tag=="_t"&&q[d].text.match(b)===null;if(!c)return!1}return c}function y(a,b){w();if(a&&x())for(var c=t,d;c<q.length;c++)q[c].text&&((d=q[c+1])&&d.tag==">"&&(d.indent=q[c].text.toString()),q.splice(c,1));else b||q.push({tag:"\n"});r=!1,t=q.length}function z(a,b){var c="="+v,d=a.indexOf(c,b),e=h(a.substring(a.indexOf("=",b)+1,d)).split(" ");return u=e[0],v=e[e.length-1],d+c.length-1}var f=d.length,j=0,k=1,l=2,m=j,n=null,o=null,p="",q=[],r=!1,s=0,t=0,u="{{",v="}}";e&&(e=e.split(" "),u=e[0],v=e[1]);for(s=0;s<f;s++)m==j?i(u,d,s)?(--s,w(),m=k):d.charAt(s)=="\n"?y(r):p+=d.charAt(s):m==k?(s+=u.length-1,o=a.tags[d.charAt(s+1)],n=o?d.charAt(s+1):"_v",n=="="?(s=z(d,s),m=j):(o&&s++,m=l),r=s):i(v,d,s)?(q.push({tag:n,n:h(p),otag:u,ctag:v,i:n=="/"?r-u.length:s+v.length}),p="",s+=v.length-1,m=j,n=="{"&&(v=="}}"?s++:g(q[q.length-1]))):p+=d.charAt(s);return y(r,!0),q};var j={_t:!0,"\n":!0,$:!0,"/":!0};a.stringify=function(b,c,d){return"{code: function (c,p,i) { "+a.wrapMain(b.code)+" },"+o(b)+"}"};var p=0;a.generate=function(b,c,d){p=0;var e={code:"",subs:{},partials:{}};return a.walk(b,e),d.asString?this.stringify(e,c,d):this.makeTemplate(e,c,d)},a.wrapMain=function(a){return'var t=this;t.b(i=i||"");'+a+"return t.fl();"},a.template=a.Template,a.makeTemplate=function(a,b,c){var d=this.makePartials(a);return d.code=new Function("c","p","i",this.wrapMain(a.code)),new this.template(d,b,this,c)},a.makePartials=function(a){var b,c={subs:{},partials:a.partials,name:a.name};for(b in c.partials)c.partials[b]=this.makePartials(c.partials[b]);for(b in a.subs)c.subs[b]=new Function("c","p","t","i",a.subs[b]);return c},a.codegen={"#":function(b,c){c.code+="if(t.s(t."+r(b.n)+'("'+q(b.n)+'",c,p,1),'+"c,p,0,"+b.i+","+b.end+',"'+b.otag+" "+b.ctag+'")){'+"t.rs(c,p,"+"function(c,p,t){",a.walk(b.nodes,c),c.code+="});c.pop();}"},"^":function(b,c){c.code+="if(!t.s(t."+r(b.n)+'("'+q(b.n)+'",c,p,1),c,p,1,0,0,"")){',a.walk(b.nodes,c),c.code+="};"},">":s,"<":function(b,c){var d={partials:{},code:"",subs:{},inPartial:!0};a.walk(b.nodes,d);var e=c.partials[s(b,c)];e.subs=d.subs,e.partials=d.partials},$:function(b,c){var d={subs:{},code:"",partials:c.partials,prefix:b.n};a.walk(b.nodes,d),c.subs[b.n]=d.code,c.inPartial||(c.code+='t.sub("'+q(b.n)+'",c,p,i);')},"\n":function(a,b){b.code+=u('"\\n"'+(a.last?"":" + i"))},_v:function(a,b){b.code+="t.b(t.v(t."+r(a.n)+'("'+q(a.n)+'",c,p,0)));'},_t:function(a,b){b.code+=u('"'+q(a.text)+'"')},"{":t,"&":t},a.walk=function(b,c){var d;for(var e=0,f=b.length;e<f;e++)d=a.codegen[b[e].tag],d&&d(b[e],c);return c},a.parse=function(a,b,c){return c=c||{},k(a,"",[],c.sectionTags||[])},a.cache={},a.cacheKey=function(a,b){return[a,!!b.asString,!!b.disableLambda,b.delimiters,!!b.modelGet].join("||")},a.compile=function(b,c){c=c||{};var d=a.cacheKey(b,c),e=this.cache[d];return e?e:(e=this.generate(this.parse(this.scan(b,c.delimiters),b,c),b,c),this.cache[d]=e)}}(typeof exports!="undefined"?exports:Hogan);var Mustache=function(a){function b(b,c,d,e){var f=this.f(b,c,d,0),g=c;return f&&(g=g.concat(f)),a.Template.prototype.rp.call(this,b,g,d,e)}var c=function(c,d,e){this.rp=b,a.Template.call(this,c,d,e)};c.prototype=a.Template.prototype;var d,e=function(){this.cache={},this.generate=function(a,b,e){return new c(new Function("c","p","i",a),b,d)}};return e.prototype=a,d=new e,{to_html:function(a,b,c,e){var f=d.compile(a),g=f.render(b,c);if(!e)return g;e(g)}}}(Hogan)